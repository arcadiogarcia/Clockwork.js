{"name":"Clockwork.js","tagline":"A lightweight modular JavaScript game engine","body":"![Clockwork logo](https://github.com/arcadiogarcia/Clockwork.js/blob/master/assets/clockwork.png?raw=true)\r\n\r\n\r\n##Demos\r\n\r\n[Example 1 - Paradogs](http://arcadiogarcia.github.io/Clockwork.js/examples/example1/example1.html)\r\n\r\n[Example 2 - Flappy dog](http://arcadiogarcia.github.io/Clockwork.js/examples/example2/example2.html)\r\n\r\n[Example 3 - Flappy dog advanced](http://arcadiogarcia.github.io/Clockwork.js/examples/example3/example3.html)\r\n\r\n[Example 4 - Flappy dog: DOMination](http://arcadiogarcia.github.io/Clockwork.js/examples/example4/example4.html)\r\n\r\n[Example 5 - Paradogs: The MMO](http://clockworkjs.azurewebsites.net/)\r\n\r\n##FAQ\r\n  - **Can I use this engine?**\r\n\r\n  If you are developing a game (or a game-like app or website) in JavaScript, you can use Clockwork.js!\r\n\r\n  - **Should I use this engine?**\r\n\r\n  If you want to keep your code organized and modular, forget about the big picture and focus on implementing your game behaviour, you should use this engine.\r\n\r\n  If you want a game engine that makes easy to start coding, but you also want to be able to extend the engine to fit your needs, you should use this engine.\r\n\r\n  If you have no experience in videogame development, and want  to learn to write games step by step, you should use this engine.\r\n\r\n  BUT\r\n  \r\n  If you are searching for a engine that does everything for you (physics, app packaging...) and lets you build a game with very little coding, you shouldn't use this engine.\r\n\r\n  - **What does this engine do?**\r\n\r\n  This engine is focused mainly in allowing to implement the game logic using events and event handlers, define presets (think of them as classes) that can be easily instantiated in levels, and use a modular engine so common elements (as input handlers, menu elements or even enemies) can be shared across games.\r\n  This engine does not provide any functionality related to\r\n  \r\n  - **How do I use this engine?**\r\n\r\n  Great, if you are still reading this it seems that you are interested in using the engine. To use the engine, you just need to follow the steps described in the *Get Started* section.\r\n\r\n  - **Can I use this engine for 3D games?**\r\n\r\n  Yes you can! All the examples provided are 2D because they use [Spritesheet.js](https://github.com/arcadiogarcia/Spritesheet.js), a 2D rendering library, but you should be able to use any 3D (or 2D) library (or write your own) if write a wrapper (stay tuned for more info about this).\r\n\r\n  - **I have written a nice preset that I want to share, may I add it to the collection included in the src/presets folder**\r\n\r\n  Of course! It doesn't mind if it implements a game element (e.g. a progress bar), or is a wrapper to use a specific [Windows10/ApacheCordova/FirefoxOS/Web/whatever] feature, you are welcome to add it to the library collection.\r\n\r\n  - **Can I use [Some library] for the animation?**\r\n\r\n  Yes, you will only have to write a wrapper, more info about that soon.\r\n  \r\n  - **Can I make a multiplayer game?**\r\n\r\n  Since the Clockwork.js is event based, it is very easy to communicate many engine instances. There is a general-purpose  implementation already written in examples/example5, that can be adapted to fit your specific needs.\r\n\r\n##Get started\r\n\r\nThe first step to build you game is to write the presets. You can think of them as 'classes' in classical object oriented languages such as C# and Java: they specify the properties and behaviour of a certain type of objects that will be instantiated on the level. Presets must be defined in a .js file following a structure that closely resembles JSON data, but including functions:\r\n\r\n ```javascript\r\nvar somePresets = [\r\n{\r\n    name: \"someName\",\r\n\tinherits: \"someOtherPreset\",\r\n    sprite: \"someSprite\",\r\n    events: [\r\n        {\r\n            name: \"someEvent\", code: function (event) {\r\n                //TODO\r\n            }\r\n        },\r\n        ...\r\n    ],\r\n    collision: {\r\n        \"someKindOfShape\": [\r\n            { \"x\": 0, \"y\": 0, ... },\r\n\t\t\t...\r\n        ],\r\n\t\t...\r\n    },\r\n\tvars: [\r\n\t{ name: \"someVariable\", value: 1 },\r\n\t...\r\n\t]\r\n},\r\n...\r\n]\r\n ```\r\nAs you can see, you can specify many properties of the preset, but only the name is mandatory:\r\n\r\n  - *name* : Specifies the preset name, it must be unique.\r\n  - *inherits* : You can specify a preset from which the actual one will inherit the event handlers, sprite, collision shapes and variables (but they can be overwritten if you want to change them).\r\n  - *sprite* : Specifies the spritesheet used to draw the object in the screen.\r\n  - *events* : The event handlers will contain all the logic of your game. They are functions that will be executed when some event happens, they may accept parameters inside the event object and may also return something.\r\n  Event names beggining with # are reserved for the engine:\r\n    - #setup is executed when a level is loaded\r\n\t- #loop is executed each frame\r\n\t- #collide is executed when a collision is detected\r\n  You can use any other name to handle other events (input, inter-object interaction...).\r\n  - *collision* : Specifies the shapes that will act as hitboxes. They is an array of each category of shape, and you can define your own custom shapes (we'll get to that later).\r\n  - *vars* : Any variable that the object may need. You can also set them in the code, but if you define them here you can easily inherit and modify\tthe values.\r\n\r\nThen, you should write the levels .xml, which specify when and where will be the objects instantiated:\r\n\r\n```xml\r\n<levels>\r\n  <level id=\"someName\">\r\n    <object name=\"someName\" type=\"somePreset\" x=\"100\" y=\"100\" z=\"2\" vars='{\"w\":90}'></object>\r\n\t...\r\n  </level>\r\n  ...\r\n</levels>\r\n```\r\n\r\nYou can specify as many levels as you want, and they must have unique names.\r\nWhen you load a level, all the objects that it contains will be instantiated:\r\n  - *name* : Specifies a unique name for the object that will allow you to reference it from other objects.\r\n  - *type* : Specifies the preset used to create the object.\r\n  - *x*, *y*, *z*: Specify the coordinates of the object. Z is not mandatory, but recomended even in 2d games to control the order in which objects are drawn.\r\n  - *vars* : They will be added or overwrite the preset variables.\r\n\r\nOnce you have written both the presets and the levels, you will be able to run your game:\r\n\r\n  1. First of all, include the engine and the file with your presets:\r\n\r\n  ```html\r\n   <script src=\"Clockwork.js\"></script>\r\n   <script src=\"myPresets.js\"></script>\r\n  ```\r\n\r\n  2. Instantiate the Clockwork engine:\r\n\r\n  ```javascript\r\n  var engineInstance = new Clockwork();\r\n  ```\r\n\r\n  3. Specify which animation library will you use. For 2D games, we recomend you to use [Spritesheet.js](https://github.com/arcadiogarcia/Spritesheet.js), which specifically was developed to be used with Clockwork.js. The library will handle all the rendering and the loading of the spritesheets, Clockwork.js will only tell the library what to draw.\r\n\r\n   ```javascript\r\n  engineInstance.setAnimationEngine(canvasAnimation);\r\n  ```\r\n\r\n  4. Load as many presets you neeed.\r\n\r\n   ```javascript\r\n  engineInstance.loadPresets(somePresets);\r\n  engineInstance.loadPresets(otherPresets);\r\n  ```\r\n\r\n  5. Load the levels and use the callback to start the engine.\r\n\r\n   ```javascript\r\n   engineInstance.loadLevelsFromXML(\"levels.xml\", function () {\r\n                engineInstance.start(30, document.getElementById(\"canvas\"));\r\n\t});  \r\n\t```\r\n\tThe start method expects the fps and a DOM element that will be used for input (will register clicks, key presses...).\r\n\r\n\r\n##Known bugs\r\n\r\nThere are no known bugs, if you find one please report it! (or even better, fix it yourself and submit a pull request).\r\n\r\n##Code examples\r\n\r\nCheck out [examples/example1/example1.html](https://github.com/arcadiogarcia/Clockwork.js/blob/master/examples/example1/example1.html) to see how to instance the engine and create objects. You should also read [examples/example1/dogPreset.js](https://github.com/arcadiogarcia/Clockwork.js/blob/master/examples/example1/dogPreset.js) to see how to write presets, and [examples/example1/levels.xml](https://github.com/arcadiogarcia/Clockwork.js/blob/master/examples/example1/levels.xml) to see the levels structure.\r\n\r\nCheck out [examples/example2/gamePresets.js](https://github.com/arcadiogarcia/Clockwork.js/blob/master/examples/example2/gamePresets.js) to learn to write the presets needed for a basic game.\r\n\r\nCheck out [examples/example3/gamePresets.js](https://github.com/arcadiogarcia/Clockwork.js/blob/master/examples/example3/gamePresets.js) to see how to add more advanced features to the previous game.\r\n\r\nCheck out [examples/example4/DOManimation.js](https://github.com/arcadiogarcia/Clockwork.js/blob/master/examples/example4/DOManimation.js) to see how to write your own animation library.\r\n\r\nCheck out [examples/example5s](https://github.com/arcadiogarcia/Clockwork.js/blob/master/examples/example5) to see how to run  a instance of the game engine on a Node.js server to create multiplayer games easily (using Socket.io).\r\n\r\nIf you are interested in the animation and rendering, you should learn more about [Spritesheet.js](https://github.com/arcadiogarcia/Spritesheet.js), the 2D animation library specifically developed to be used with Clockwork.js. You can find the spritesheets used by the examples in [examples/shared](https://github.com/arcadiogarcia/Clockwork.js/blob/master/examples/shared). Thanks to [Silvia Barbero](http://silvishinystar.deviantart.com/) for allowing me to use her dog sprite!\r\n\r\n##Roadmap\r\n\r\nThese items are on the roadmap:\r\n\r\n  - **Animation library sample wrapper**\r\n  ~~Provide an example of the methods that the animation library used must implement.~~ [examples/example4/DOManimation.js](https://github.com/arcadiogarcia/Clockwork.js/blob/master/examples/example4/DOManimation.js) shows how to write a simple animation library, and you can find more exaples in src/animation.\r\n\r\n\r\n  - **Editor**:\r\n  Develop a drag and drop editor to create levels more easily.\r\n\r\n\r\n  - **More presets**\r\n  Write presets to handle other input methods: keyboard, pointers, accelerometer...\r\n  Also, write platform specific presets (e.g. notifications, live tiles for Windows).\r\n\r\n\r\n  - **More collision detectors**\r\n  Add support for more complex (e.g. concave) shapes.\r\n\r\n##Contact\r\n\r\nYou can contact the creator of the engine at [@arcadio_g_s](http://www.twitter.com/arcadio_g_s) on Twitter.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}